<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

<div id="headline" onclick="removeDiv()">
  <h1>本界面是用于展示论文图例</h1>
  <br/>
  <h3>点击以继续</h3>
</div>

<div id="grid-container">

  <div id="img_div">
    <img src="" id="img" alt="模型没有预测这种情况" hidden="true" style="">
  </div>

  <div id="container">

    <i>&nbsp;&nbsp;&nbsp;label</i>
    <select id="label" style="">
      <option value="none" selected disabled hidden>请选择</option> 
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
    </select>

    <i>&nbsp;&nbsp;pred</i>
    <select id="pred" style="">
      <option value="none" selected disabled hidden>请选择</option> 
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
    </select>


    <div id="switch_img" hidden="true">
      <button id="1" onclick="switchTo1(label_val,pred_val)">1</button>
      <button id="2" onclick="switchTo2(label_val,pred_val)">2</button>
      <button id="3" onclick="switchTo3(label_val,pred_val)">3</button>
    </div>

  </div>



</div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script>
    // 定义label，pred的值和img路径
    var label_val, pred_val, img_src;

    // 首页面元素删除，并开启图片div显示
    function removeDiv() {
      var div = document.getElementById("headline");
      div.remove();
      document.getElementById("img").hidden = false;
    }
    
    // 切换到图片1
    function switchTo1(label, pred) {
      img_src = "./img/" + label_val + "_" + pred_val + "_1.png";
      $('#img').attr('src', img_src);
    }

    // 切换到图片2
    function switchTo2(label, pred) {
      img_src = "./img/" + label_val + "_" + pred_val + "_2.png";
      $('#img').attr('src', img_src);
    }

    // 切换到图片2
    function switchTo3(label, pred) {
      img_src = "./img/" + label_val + "_" + pred_val + "_3.png";
      $('#img').attr('src', img_src);
    }

    // 改变label或pred的同时改变图片的输出
    $(function() {
      // label选择
      $('#label').on('change', function() {
        label_val = $(this).val();
        img_src = "./img/" + label_val + "_" + pred_val + ".png";
        $('#img').attr('src', img_src);
        // 同参数下多图片的显示
        // TODO: 1.根据同参数下图片数量显示按钮数（目前最大值为3），2.
        if (label_val == 0 && pred_val == 1) {
          switchTo1(label_val,pred_val);
          document.getElementById("switch_img").hidden = false;
        }
        else document.getElementById("switch_img").hidden = true;
      });

      // pred选择
      $('#pred').on('change', function() {
        pred_val = $(this).val();
        img_src = "./img/" + label_val + "_" + pred_val + ".png";
        $('#img').attr('src', img_src);
        if (label_val == 0 && pred_val == 1) {
          switchTo1(label_val,pred_val);
          document.getElementById("switch_img").hidden = false;
        }
        else document.getElementById("switch_img").hidden = true;
      });
    });
  </script>
</body>
</html>